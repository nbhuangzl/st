<template>
  <div class="stock-k-line-container">
    <div v-for="item in stockNids" :key="item" class="k-line-image">
      <img :src="getImageUrl(item)" alt="Stock K-Line" @click="openDetailPage(item)" />
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue';
/**

'000007','000014','000016','000017','000032','000034','000036','000037','000042','000048','000055','000056','000058''000059',
'000062','000066','000068','000070','000078','000096','000099','000408','000409','000410','000411','000417','000425','000498',
'000503','000504','000505','000506','000509','000510','000514',,'000151','000155','000158','000404','000519','000520','000524',
*/

/**
'000530','000532','000533','000534','000536','000545','000546','000547','000553','000554','000555','000557','000558'
,'000560','000561','000571','000572','000586','000590','000591','000592','000593','000595','000598','000599',
'000615','000619','000620','000626','000627','000630','000632','000635','000636','000637','000639','000652','000663',
'000672','000676','000677','000678','000679','000680','000681','000682','000695','000697','000698'

'000526','000528','000529','000530','000531','000532','000533','000534','000536','000537','000538','000539','000541','000543',
'000544','000545','000546','000547','000548','000550','000551','000552','000553','000554','000555','000557','000558','000559',
'000560','000561','000563','000564','000565','000566','000567','000568','000570','000571','000572','000573','000576','000581',
'000582','000584','000586','000589','000590','000591','000592','000593','000595','000596','000597','000598','000599','000600',
'000601','000605','000607','000608','000609','000610','000612','000615','000617','000619','000620','000622','000623','000625',
'000626','000627','000628','000629','000630','000631','000632','000633','000635','000636','000637','000638','000639','000650',
'000651','000652','000655','000656','000657','000659','000661','000663','000665','000668','000669','000670','000672','000676',
'000677','000678','000679','000680','000681','000682','000683','000685','000686','000688','000690','000691','000692','000695',
'000697','000698'
 */

/**
// 已筛选
'000700','000701','000702','000705','000707','000710','000713','000716','000720','000722','000723','000726',
'000727','000731','000733','000738','000739','000752','000753','000756','000758','000777','000788','000789',
'000790','000792','000796','000798','000799','000800','000801','000802','000803','000809','000810','000811',
'000812','000813','000815','000816','000818','000819','000820','000821','000826','000829','000831','000839',
'000848','000851','000856','000859','000862','000869','000875','000877','000880',

 // 未筛选
'000698','000700','000701','000702','000703','000705','000707','000708','000709','000710','000711','000712','000713',
'000715','000716','000717','000718','000719','000720','000721','000722','000723','000725','000726','000727','000728',
'000729','000731','000733','000735','000736','000737','000738','000739','000750','000751','000752','000753','000755',
'000756','000757','000758','000759','000761','000762','000766','000767','000768','000776','000777','000778','000779',
'000782','000783','000785','000786','000788','000789','000790','000791','000792','000793','000795','000796','000797',
'000798','000799','000800','000801','000802','000803','000807','000809','000810','000811','000812','000813','000815',
'000816','000818','000819','000820','000821','000822','000823','000825','000826','000828','000829','000830','000831',
'000833','000837','000838','000839','000848','000850','000851','000852','000856','000858','000859','000860','000862',
'000863','000868','000869','000875','000876','000877','000878','000880','000881','000882'
 
 */

/**
 // 已筛选
'000885','000887','000888','000889','000886','000890','000893','000899','000902','000903','000905','000906','000908',
'000909','000910','000912','000915','000917','000920','000922','000925','000928' ,'000930','000931','000935','000936', 
'000938','000948','000949','000950','000951','000953','000955','000958','000960','000962','000965','000966','000968',
'000969','000970','000972','000973','000975','000977','000978','000980','000981','000985','000987','000988','000989',
'000990','000993','000995','000997','000998','000999','001202','001205','001206','001207','001208',
'001210','001211','001215','001216','001217','001222','001225','001228','001230','001234','001236','001238','001239',
,'001256'

 // 未筛选
'000883','000885','000886','000887','000888','000889','000890','000892','000893','000895','000897','000898','000899',
'000900','000901','000902','000903','000905','000906','000908','000909','000910','000911','000912','000913','000915',
'000917','000919','000920','000921','000922','000923','000925','000926','000927','000928','000929','000930','000931',
'000932','000933','000935','000936','000937','000938','000948','000949','000950','000951','000952','000953','000955',
'000957','000958','000959','000960','000962','000963','000965','000966','000967','000968','000969','000970','000972',
'000973','000975','000977','000978','000980','000981','000983','000985','000987','000988','000989','000990','000993',
'000995','000997','000998','000999','001201','001202','001203','001205','001206','001207','001208','001209','001210',
'001211','001212','001213','001215','001216','001217','001218','001219','001222','001223','001225','001226','001227',
'001228','001229','001230','001231','001234','001236','001238','001239','001255','001256'

 */

/**
 

 '001259','001260','001267','001268','001269','001270','001278','001282','001283','001286','001287','001288',
 '001289','001296','001298','001299','001300','001301','001306','001308','001309','001311','001316','001317',
 '001319','001322','001323','001324','001326','001337','001339','001359','001360','001367','001368','001373',
'001379','001380','001696','001389','001696','001979','002001','002006','002007','002008','002012',
'002024','002025','002037','002048', '002050',


'001258','001259','001260','001261','001266','001267','001268','001269','001270','001277','001278','001279','001282',
'001283','001286','001287','001288','001289','001296','001298','001299','001300','001301','001306','001308','001309',
'001311','001313','001314','001316','001317','001318','001319','001322','001323','001324','001326','001328','001330',
'001331','001332','001333','001336','001337','001338','001339','001358','001359','001360','001366','001367','001368',
'001373','001376','001378','001379','001380','001387','001389','001696','001872','001896','001914','001965','001979',
'002001','002003','002004','002005','002006','002007','002008','002009','002010','002011','002012','002014','002015',
'002016','002017','002019','002020','002021','002022','002023','002024','002025','002026','002027','002028','002029',
'002030','002031','002032','002033','002034','002035','002036','002037','002038','002039','002040','002041','002042',
'002043','002044','002045','002046','002047','002048','002049','002050','002051','002052'

 * 
 */

/**
 
'002053','002055','002056','002058','002061','002062','002063','002064','002065','002066','002067', '002068','002072',
'002073','002074','002075','002077','002079','002082','002083','002085','002086','002090','002092','002093','002094',
'002097','002098','002103','002106','002111','002112','002116','002122','002123','002130','002131','002132',
 '002134','002136','002137','002145','002148','002149','002150','002152', '002156','002165','002169','002170',
 
 
'002052','002053','002054','002055','002056','002057','002058','002059','002060','002061','002062','002063','002064','002065',
'002066','002067','002068','002069','002072','002073','002074','002075','002076','002077','002078','002079','002080','002081',
'002082','002083','002084','002085','002086','002088','002090','002091','002092','002093','002094','002095','002096','002097',
'002098','002099','002100','002101','002102','002103','002104','002105','002106','002107','002108','002109','002110','002111',
'002112','002114','002115','002116','002117','002119','002120','002121','002122','002123','002124','002125','002126','002127',
'002128','002129','002130','002131','002132','002133','002134','002135','002136','002137','002138','002139','002140','002141',
'002142','002144','002145','002146','002148','002149','002150','002151','002152','002153','002154','002155','002156','002157',
'002158','002159','002160','002161','002162','002163','002164','002165','002166','002167','002168','002169','002170','002171',
'002172','002173'
 */

// 股票代码数组，这里以沪深300指数成分股为例
const stockNids = ref([

'000006','000016','000045','000058','000062','000066','000158','000520','000536','000555','000572','000592','000599','000665','000668','000677','000692','000701','000721','000796','000829','000859','000901','000903','000917','000958','001267','001283','002094','002123','002153','002170','002173','002178','002183','002185','002243','002246','002253','002273','002312','002346','002384','002416','002423','002451','002456','002474','002542','002570','002583','002602','002611','002628','002633','002647','002654','002657','002692','002694','002705','002712','002717','002725','002869','002912'

]);

// 获取图片URL的函数
const getImageUrl = (nid) => {

  const primaryUrl = `https://webquotepic.eastmoney.com/GetPic.aspx?nid=0.${nid}&ImageType=kl`;
  
  // 检查网络或其他原因导致无法获取图片，返回备用链接
  // if (primaryUrl == null) {
  //   return `https://webquotepic.eastmoney.com/GetPic.aspx?nid=1.${nid}&ImageType=kl`; // 备用链接
  // }
  
  return primaryUrl;
};

// 点击事件处理函数
const openDetailPage = (nid) => {
  // 基础URL
  const baseUrl = 'https://emweb.eastmoney.com/pc_extendf10/reportchart.html?code=';
  // 目标URL
  const detailUrl1 = `${baseUrl}${nid}.SZ&date=2024-06-30#/detail`;
  const detailUrl2 = `${baseUrl}${nid}.SZ&date=2024-09-30#/detail`;
  // 打开新页面或当前页面跳转
  window.open(detailUrl1, '_blank');
  //window.open(detailUrl2, '_blank');
};
</script>

<style scoped>
.stock-k-line-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px; /* 根据需要调整图片间距 */
}

.k-line-image img {
  width: 100%; /* 根据需要调整图片宽度 */
  height: auto;
}
</style>